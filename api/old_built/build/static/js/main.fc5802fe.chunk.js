(this.webpackJsonpleafy=this.webpackJsonpleafy||[]).push([[0],{111:function(e,t,n){},134:function(e,t,n){},136:function(e,t,n){},235:function(e,t,n){},237:function(e,t,n){},238:function(e,t,n){},239:function(e,t,n){},240:function(e,t,n){},241:function(e,t,n){},242:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(24),r=n.n(a),s=n(12),i=n(11),l=(n(111),n(10)),o=n.n(l),u=n(18),d=n(47),j=n.n(d),m=j.a.create({baseURL:"https://api.spoonacular.com/recipes/complexSearch",params:{apiKey:"eb6161f8952649ec9ca9efb49c3ff871",addRecipeInformation:!0,instructionsRequired:!0,fillIngredients:!0}}),p=j.a.create({baseURL:""}),b=function(e,t,n){return function(c){if(n){c({type:"ADD_RECIPE",payload:[{},t,"",n]})}if(!n){console.log(e,t);var a=e.id,r={};r[a]=e,console.log("-------",r,t,a,n),c({type:"ADD_RECIPE",payload:[r,t,a,n]})}}},h=function(e,t,n){return function(c){c({type:"ADD_INGR_FROM_RECIPE",payload:{recipe:e,daySelectedID:t,todayID:n}})}},f=function(e){return function(t){t({type:"INITIAL_INGREDIENTS",payload:e})}},O=function(e,t){return function(){var n=Object(u.a)(o.a.mark((function n(c){var a,r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,console.log("INSIDE"),a={email:e,password:t},n.next=5,p.post("/login",a);case 5:r=n.sent,console.log(r.data,"action"),console.log("OUTSIDE"),c({type:"USER_LOGIN",payload:r.data}),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(0),console.log("OUT ERROR"),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()},g=n(7),x=n(49),y=n(8),v=(n(134),n(0)),N=Object(g.b)((function(e){return{userReducer:e.userReducer,currentMenu:e.menuReducer,ingredients:e.ingredientList,todayMilliSec:e.todayMilliSec}}),{addIngredient:function(e){return function(t){t({type:"ADD_ITEM",payload:{item:e}})}},removeIngredient:function(e){return function(t){t({type:"DELETE_ITEM",payload:{item:e}})}},deleteIngredientList:function(e,t){return function(){var n=Object(u.a)(o.a.mark((function n(c){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p.put("/deleteIngredients",{id:t,ingredientList:e});case 2:a=n.sent,console.log(t),c({type:"DELETE_INGREDIENTS",payload:a.data});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},saveIngredientList:function(e,t){return function(){var n=Object(u.a)(o.a.mark((function n(c){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p.post("/saveIngredients",{id:t,ingredientList:e});case 2:n.sent;case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},inicialIngredientList:f,addToIgredientList:h})((function(e){var t;e.userReducer&&0!==Object.keys(e.userReducer).length||e.history.push("/login");var n=Object(y.a)({},e.ingredients),a=Object(c.useState)(""),r=Object(x.a)(a,2),s=r[0],i=r[1],l=function(t){e.removeIngredient(t.target.name)},o=function(t){t.preventDefault(),""!==s&&(e.addIngredient(s),i(""))};return t=n?Object.keys(n).map((function(e){return Object(v.jsxs)("div",{className:"groc-item",children:[Object(v.jsxs)("div",{className:"item-title",children:["".concat(n[e].name[0].toUpperCase()).concat(n[e].name.slice(1)),""!=n[e].amount?Object(v.jsx)("span",{className:"item-desc",children:" [".concat(n[e].amount," ").concat(n[e].units,"]")}):""]}),Object(v.jsx)("img",{name:e,onClick:l,className:"delete-btn",alt:"",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA89JREFUeNrMmkFrE0EUgCchopbWRFqwUmjXk+kpQcGT0kAPHptePKZb0Jtgru0pXtprBG8KTQqeG39AIUFPgrU9NR7EpCAqtJBosRYj8b3wEtZkN/tmdpLsg2FIdmZ3vn3z3rx5s4Fmsyl0S2ll3oDKcLhcWcgfVnQ/M6ADBAYeh8qEgvUCtxuUIpQCgO2PDITeukllzuM4qlByULIAVRsKCABEoMpAeSL0Sx1hVICkQAAiTRBhMVhBIBNgClpBSAuo+iUxXMlDSXO04wpChlzQYAeqcgAl6ebp+oIQRHEIU4kz1RL9vJsjiI8grDBxJ83YgpBNVHwEYZ1mCTubCTp0KPgQAiVGTke4goA2MhKr8yhkiZYB56lFq/Vn7h0vTc2I6XvLovHrhzh+vyt+H3+RHhX2x/ucHh227iFhL4Z1ioW6GmRlBnDz4Ubn99zyY/Hp1ab49maH1T80NiFia9tifDba+e/724Iov1jjdA/TWM0ejZCX+qACYZWPL9ddYewgFGBQbrS9mNVG0tzp5ASBgtcQVAUC5drdpDBAu0xJ/2fs5G5XOD2nbi+6tnGCcYNoy+StRS6I2e21krpdSzcMF0JSwqCEpBIIepbG2U8pGFmIk71dGZhkx9iBqiazAOKAYuvbInR5gtX+/OSruDh5ndVW0thbmzIweCNQTEXZ3soLzIAg2nI12CdJ0FdOj8riYCPFnmYDhECJBylhIEYJ4xECxQh6fZNeYTRA6AGxwvw9Ox0FRN8wXlowYDyvH0v1qZXfaXMUWkDa68TYtJzfcAtnhgridcXWBFML0pZ2JBAaYfaVQXTHTh5hKu0QpTlIiGbjjwiELrDacvYz3btFCFEiQUt2gp8BkIBAF7v39IFUoBmJ3pEZTtFq7OwcK+5HZCBwnZBdNGfupwYPMj47r7TYycBwn2EdewuEUpGs6YXZDtUVmwvDeQbJa7s9OyuDghsrHKhq2OEGg/9Xd55zQbJOeS2kY2Xdo482W4kC1djJbj+DEAiJsAwpgTYSTnktzEqwfB8OGOOrMHmYOsRNFf6b7GgG82GhsSutJB9qggmBkrH+6Elig1bQC/g5ZYqSB22YbrEWNqj7GKJql4PrASEvYPoYJMk+VqBDyFUfQqw6nVo5hvHQIQfVM59B5Jwucg5DcZpt+RmCBUIwuGDgjYZ9ilUnmyhq2SGSzWDaqDRECHyWwYFga8RmqmUHqJ2We5X56kEJhGAi5KLTQt+HBAiQcbMFrSA29oMloQBVpTA85/VTp4DOD8/oMDVOxRC9eWUcbI3qfZ0foP0TYABN6Q7dLnzS1gAAAABJRU5ErkJggg=="})]},e)})):Object(v.jsx)("div",{}),Object(v.jsxs)("div",{className:"grocery-container",children:[Object(v.jsx)("h1",{children:"Ingredient List"}),Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{className:"groc-list",children:[t,Object(v.jsxs)("div",{className:"groc-item",children:[Object(v.jsx)("form",{onSubmit:o,className:"groc-item",children:Object(v.jsx)("input",{value:s,onChange:function(e){i(e.target.value)},name:"new-item",className:"item-title"})}),Object(v.jsx)("img",{onClick:o,className:"delete-btn",alt:"",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAArhJREFUeNrsmrFOwzAQhl2rI1JBMALNG5CZhb5B+wBIBJBY6RsQ8QRlRQKKxAOEgb1dmMsbpMAIopXYyx1cUUjtxHGctAZ+6RSpIbE/zj5fzq5MJhNmWoc3Rw5cHMnt8GL3PDTdZsUECHTchYsHhtcdxcf6YD2wAMAGcwOh/7pHVs/ZjyFYF6wDUKNSQABgGS4+2DEzrzHC6ABlAgGINkHUWLFCIA9gAqMg5AV0fZOVq2uwtop3UkFoIgcG5oGuHsBaaZEuEYQgeiUMJZWh1kiKblKQBYKIwrgyzwhBaE6ECwQRHWYN0ZypSh4I8kBsrmywg+19trGy/uP3p7dndnl/xR7fnnRfvUVBpxW/wQXe8DOszkKJIFD4G97LqSYtA3IQWq1P8rYkgojeW1tazduET8Nf6pFOGQP95f017ytq8b7yWJRqMnu0RyNoxiNtZp/aP0BovO1ZCOLFPdJidqoGTmj9BpDvvk9BGhaDfPadU7SqWQxSxzleTSgSKKUdOoJcSenvMqQ0LqeCgXbaUaQypDQON5F2FA2jkNKog8xTKikNZ79Efw8EI8g8pNjuiNMnbaowDJYNMw2/ChpUVUEwlvt3p0bWCVjATDOHHBrtWT49xlhZ4ZHqhK3qRSd78A8yfwXfIFSKtHF43U4rj9F1pGMhSGdmQQSyLvvaObJF/WjE5bKqhAXypSkK7RD1LYC4jq9/olzLY18l/ELyIwNpzlA0crggvQhZpF6kI1leliF3SqyaiLYVkjZ6EOZqwYbUPgUl9TSeHjizASLRIwvmmUQIJRCCwWoevqjs+teY5kRqhq70hUhh2S05NGNbjupnhs4RDo9Sg6K88xles5x60AIhmGUK0RjP6wYB/LS5YBREMH/QGhpQQ0rDu3mPOlVMHjyjrTCXzGGzdWXs7IiuA5MH0D4EGADWWzHiSxjbMAAAAABJRU5ErkJggg=="})]})]}),Object(v.jsxs)("div",{className:"menu-bottom-btns-ingr",children:[Object(v.jsx)("button",{onClick:function(){e.deleteIngredientList(JSON.stringify(n),e.userReducer._id)},className:"back-btn",children:"Clear List"}),Object(v.jsx)("button",{onClick:function(){e.saveIngredientList(JSON.stringify(n),e.userReducer._id)},className:"save-btn",children:"Save List"})]}),Object(v.jsx)("div",{className:" btn-lrg-container",children:Object(v.jsx)("button",{onClick:function(){Object.keys(e.currentMenu).forEach((function(t){t<e.todayMilliSec||Object.keys(e.currentMenu[t]).forEach((function(n){e.addToIgredientList(e.currentMenu[t][n],t,e.todayMilliSec)}))}))},className:" btn-lrg",children:"Add Items from Upcoming Recipes"})})]})})),R=n(244),A=n(243),E=(n(136),Object(A.a)({form:"loginInfo"})((function(e){var t=!0,n=!0,a=Object(c.useRef)(null);console.log(e,"PROPS"),Object(c.useEffect)((function(){if(0!==Object.keys(e.userReducer).length){if(e.getDateMilSec(),e.userReducer.menuHistory&&e.addRecipeToMenu("","",JSON.parse(e.userReducer.menuHistory)),e.userReducer.ingredientsList&&e.inicialIngredientList(JSON.parse(e.userReducer.ingredientsList)),!e.userReducer.name)return e.history.push("/profile"),void e.reset();e.history.push("/")}a.current&&(setTimeout((function(){a.current&&a.current.closest(".login-container").querySelector(".login-msg ").classList.add("loaded")}),500),a.current.closest(".login-container").querySelector(".close-popup ").addEventListener("click",(function(){a.current.closest(".login-container").querySelector(".login-msg ").style.display="none"})))}),[e.userReducer]);var s=function(){a.current.querySelector(".error-not-found-account").style.display="none",a.current.querySelector(".error-message-email").style.display="none",a.current.querySelector(".error-message-password").style.display="none"},i=function(e){if(!e.password)return!1;var t=e.password.replaceAll(" ","");if(t.length<8)return!1;if(t.match(/^[A-Za-z]+$/))return!1;if(t.match(/^[0-9]+$/))return!1;return!t.match(/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/)},l=function(t){if(!t.email)return!1;var n=t.email;if(n.includes(" "))return!1;return!/[!#$%^&*()+\-=\[\]{};':"\\|,<>\/?]/.test(n)&&(!(!n.includes("@")||!n.includes("."))&&e.signInValues.email.indexOf("@")<=e.signInValues.email.length-3)},d=function(){var e=Object(u.a)(o.a.mark((function e(t,n,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(),e.next=4,c.fetchUser(t.email,t.password);case 4:console.log("AFTER SUBMIT"),!c.userReducer&&a.current&&(a.current.querySelector(".error-not-found-account").style.display="block"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,c){return e.apply(this,arguments)}}(),j=function(){var c=Object(u.a)(o.a.mark((function c(r){return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(s(),r.preventDefault(),e.signInValues){c.next=6;break}return a.current.querySelector(".error-message-email").style.display="block",a.current.querySelector(".error-message-password").style.display="block",c.abrupt("return");case 6:if(t=!!l(e.signInValues),a.current.querySelector(".error-message-email").style.display=t?"none":"block",n=!!i(e.signInValues),a.current.querySelector(".error-message-password").style.display=n?"none":"block",!n||!t){c.next=14;break}return c.next=13,e.createProfile(e.signInValues);case 13:(!e.userReducer||Object.keys(e.userReducer).length<=0)&&a.current&&(a.current.querySelector(".error-message-account").style.display="block");case 14:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();return r.a.createPortal(Object(v.jsxs)("div",{className:"login-container",children:[Object(v.jsx)("div",{className:"login-box",children:Object(v.jsxs)("form",{ref:a,onSubmit:e.handleSubmit(d),className:"login-box",children:[Object(v.jsxs)("div",{className:"single-input-label",children:[Object(v.jsx)("label",{children:"E-mail:"}),Object(v.jsx)(R.a,{name:"email",component:"input",type:"email"})]}),Object(v.jsx)("p",{className:"error-message-email",children:"The e-mail typed is not valid. Please try again"}),Object(v.jsxs)("div",{className:"single-input-label",children:[Object(v.jsx)("label",{children:"Password:"}),Object(v.jsx)(R.a,{name:"password",component:"input",type:"password"})]}),Object(v.jsx)("p",{className:"error-message-password",children:"This password is invalid. Make sure it has at least 8 characters and contains numbers and letters."}),Object(v.jsxs)("div",{className:"login-btns",children:[Object(v.jsx)(R.a,{onClick:j,name:"signin-btn",className:"signin-btn",component:"button",children:"Sign In"}),Object(v.jsx)(R.a,{value:"login",name:"login-btn",className:"login-btn ",component:"button",children:"Login"})]}),Object(v.jsx)("p",{className:"error-message-account",children:"This e-mail has already been registered. Please try again."}),Object(v.jsx)("p",{className:"error-not-found-account",children:"The e-mail or password entered do not match or are not registered."})]})}),Object(v.jsxs)("div",{className:"login-msg",children:[Object(v.jsx)("h2",{className:"close-popup",children:"X"}),Object(v.jsx)("h2",{className:"close-popup-header",children:"Read me!"}),Object(v.jsxs)("p",{children:[Object(v.jsx)("div",{className:"text-explanation",children:"Please, use the following credentials if you want to take a look at the app but do not want to create an account:"}),Object(v.jsx)("br",{}),Object(v.jsxs)("span",{children:["E-mail: user@email.com",Object(v.jsx)("br",{}),"Password: password123"]})]})]})]}),document.getElementById("login"))}))),I=Object(g.b)((function(e){return console.log(e),{userReducer:e.userReducer,signInValues:e.form.loginInfo?e.form.loginInfo.values:""}}),{fetchUser:O,addRecipeToMenu:b,createProfile:function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.post("",e);case 2:c=t.sent,console.log(c.data),n({type:"CREATE_PROFILE",payload:c.data});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getDateMilSec:function(){return function(e){e({type:"RETRIEVE_DATE"})}},inicialIngredientList:f})(E),S=(n(235),Object(g.b)((function(e){return{currentUser:e.userReducer,todayMilliSec:e.todayMilliSec}}),{})((function(e){e.currentUser&&0!==Object.keys(e.currentUser).length||e.history.push("/login");var t,n=Object(i.f)(),a=Object(c.useState)(e.todayMilliSec),r=Object(x.a)(a,2),l=r[0],o=r[1],u=new Date(l),d=u.toLocaleString("default",{day:"numeric",month:"short"}),j=u.toLocaleString("default",{year:"numeric"});if(e.currentUser.menuHistory){var m=JSON.parse(e.currentUser.menuHistory);if(m["".concat(l)]){var p=m["".concat(l)];t=Object.keys(m["".concat(l)]).map((function(e){return Object(v.jsxs)("div",{className:"recipe-card",children:[Object(v.jsx)("div",{className:"title-recipe",children:p[e].title}),Object(v.jsxs)("div",{className:"info-recipe",children:[Object(v.jsx)("img",{className:"image-recipe",alt:"",src:p[e].image}),Object(v.jsx)("span",{dangerouslySetInnerHTML:{__html:p[e].summary.slice(0,450)+"..."}})]}),Object(v.jsx)(s.b,{className:"home-link",to:{pathname:"/SingleRecipe/".concat(p[e].id),state:p[e],prevPage:n.pathname},children:Object(v.jsx)("button",{className:"save-btn",children:"Full Recipe"})})]},p[e].id)}))}else t=Object(v.jsx)("div",{children:"No data available"})}return Object(v.jsxs)("div",{className:"home-container",children:[Object(v.jsx)("h1",{children:"Home"}),Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{className:"day-selector",children:[Object(v.jsx)("i",{onClick:function(){o(l-864e5)},className:"left fas fa-sort-up "}),Object(v.jsxs)("h2",{className:"day-selected",children:[d,Object(v.jsx)("span",{children:", ".concat(j)})]}),Object(v.jsx)("i",{onClick:function(){o(l+864e5)},className:" right fas fa-sort-up "})]}),Object(v.jsx)("div",{className:"display-todays-recipe",children:t})]})}))),w=n(74),k=(n(237),function(e){return function(t){return e(t.target.files[0])}}),L=function(e){var t=e.input,n=(t.value,t.onChange),c=t.onBlur,a=(Object(w.a)(t,["value","onChange","onBlur"]),e.meta,Object(w.a)(e,["input","meta"]));return Object(v.jsx)("input",Object(y.a)(Object(y.a)({className:"avatar-input",onChange:k(n),onBlur:k(c),type:"file"},a.input),a))},T=Object(A.a)({form:"userInfo",enableReinitialize:!0})((function(e){console.log("/build/".concat(e.initialValues.avatar.replaceAll("/","\\"))),e.initialValues&&0!==Object.keys(e.initialValues).length||e.history.push("/login");return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"profile-container",children:[Object(v.jsx)("h1",{children:"Profile"}),Object(v.jsx)("hr",{}),Object(v.jsx)("div",{className:"profile-picture",children:Object(v.jsx)("img",{alt:"",src:e.initialValues.avatar?"./build/".concat(e.initialValues.avatar.replaceAll("/","\\")):""})}),Object(v.jsxs)("form",{encType:"multipart/form-data",className:"user-information",onSubmit:e.handleSubmit((function(t){var n=new FormData;Object.keys(t).forEach((function(c){"_id"!==c&&t[c]&&t[c]!==e.initialValues[c]&&n.append(c,t[c])})),n.append("_id",t._id),e.updateProfile(n)})),children:[Object(v.jsxs)("div",{className:"form-field",children:[Object(v.jsx)("label",{children:"Name:"}),Object(v.jsx)(R.a,{className:"user-field",name:"name",component:"input",type:"text"})]}),Object(v.jsxs)("div",{className:"form-field",children:[Object(v.jsx)("label",{children:"Telephone:"}),Object(v.jsx)(R.a,{className:"user-field",name:"phone",component:"input",type:"text"})]}),Object(v.jsxs)("div",{className:"form-field",children:[Object(v.jsx)("label",{children:"E-mail:"}),Object(v.jsx)(R.a,{className:"user-field",name:"email",component:"input",type:"text"})]}),Object(v.jsxs)("div",{className:"form-field",children:[Object(v.jsx)("label",{children:"Nickname:"}),Object(v.jsx)(R.a,{className:"user-field",name:"nickName",component:"input",type:"text"})]}),Object(v.jsxs)("div",{className:"form-field",children:[Object(v.jsx)("label",{children:"Country:"}),Object(v.jsx)(R.a,{className:"user-field",name:"country",component:"input",type:"text"})]}),Object(v.jsxs)("div",{className:"form-field",children:[Object(v.jsx)("label",{children:"Avatar Picture:"}),Object(v.jsx)(R.a,{name:"avatar",component:L,type:"file",accept:"image/png, image/jpeg"})]}),Object(v.jsx)("button",{className:"update-btn",children:"Update"})]})]})})})),C=Object(g.b)((function(e){return{initialValues:e.userReducer}}),{updateProfile:function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.patch("/",e);case 2:c=t.sent,n({type:"UPDATE_USER",payload:c.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(T),D=function(e){var t=Object.keys(e.itemOfMenu);if(0===t.length)return"";var n=new Date(+e.dayOfWeek),c=n.toLocaleString("default",{day:"numeric",month:"long",year:"numeric"}),a=n.toLocaleString("default",{weekday:"long"}),r=t.map((function(t){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"item-content",children:[Object(v.jsx)("img",{alt:"",src:e.itemOfMenu[t].image}),Object(v.jsx)("h4",{children:e.itemOfMenu[t].title})]},e.itemOfMenu[t].id)})}));return Object(v.jsxs)("div",{className:"daily-menu",children:[Object(v.jsxs)("div",{className:"item-header",children:[Object(v.jsxs)("span",{className:"item-day-week",children:[a," "]}),"  - ".concat(c)]}),Object(v.jsx)("div",{className:"items-of-day",children:r})]})},M=(n(238),Object(g.b)((function(e){return{currentMenu:e.menuReducer,userReducer:e.userReducer}}),{saveMenuToDB:function(e,t){return function(){var n=Object(u.a)(o.a.mark((function n(c){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p.patch("/menu",{id:t,menu:e});case 2:a=n.sent,c({type:"UPDATE_USER",payload:a.data});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},fetchUser:O})((function(e){var t=Object.keys(e.currentMenu).sort((function(e,t){return e-t})).map((function(t){return Object(v.jsx)("div",{children:Object(v.jsx)(D,{className:"menu-item",itemOfMenu:e.currentMenu[t],dayOfWeek:t},t)})}));return Object(v.jsxs)("div",{className:"menu-container",children:[Object(v.jsxs)("div",{className:"menu-header",children:[Object(v.jsx)("h1",{children:"Menu"}),Object(v.jsx)("hr",{})]}),Object(v.jsx)("div",{className:"menu-items",children:t}),Object(v.jsxs)("div",{className:"menu-bottom-btns",children:[Object(v.jsx)(s.b,{to:"/Recipes",className:"back-btn",children:"Back"}),Object(v.jsx)("button",{onClick:function(){e.saveMenuToDB(e.currentMenu,e.userReducer._id)},className:"save-btn",children:"Save"})]})]})}))),U=(n(239),n.p+"static/media/search-icon.8bad4f67.svg"),B=Object(g.b)((function(e){return{menuCurrent:e.menuReducer,todayMilliSec:e.todayMilliSec}}),{addRecipeToMenu:b,deleteRecipeToMenu:function(e,t){return function(n){n({type:"DELETE_RECIPE",payload:{dayId:e,currentId:t}})}},addToIgredientList:h,removeFromIgredientList:function(e){return function(t){t({type:"DELETE_INGR_FROM_RECIPE",payload:{recipe:e}})}}})((function(e){var t=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],n=e.todayMilliSec,a=new Date,r=a.getDay()-1===-1?6:a.getDay()-1,s=t.map((function(e,t){return n+864e5*(t-r)})),i=Object(c.useRef)(null);Object(c.useEffect)((function(t){!function(t,n,c,a){t.querySelectorAll(".day-add-btn").forEach((function(t,n){e.menuCurrent[a[n]]&&e.menuCurrent[a[n]][e.currentRecipe.id]&&t.classList.add("day-added")}))}(i.current,0,0,s)}));var l=t.map((function(e){return Object(v.jsx)("div",{className:"day-add-btn",children:e})}));return Object(v.jsx)("div",{ref:i,onClick:function(c){if(3===c.target.innerText.length){if(c.target.classList.contains("day-added")){c.target.classList.remove("day-added");var a=s[t.findIndex((function(e){return e==="".concat(c.target.innerText)}))];return e.deleteRecipeToMenu(a,e.currentRecipe.id),void e.removeFromIgredientList(e.currentRecipe)}c.target.classList.add("day-added");var i=t.findIndex((function(e){return e===c.target.innerText})),l=n+864e5*(i-r);return e.addRecipeToMenu(e.currentRecipe,l,null),void e.addToIgredientList(e.currentRecipe,l,n)}},className:"days-of-week",children:l})})),F=function(e){return Object(v.jsx)("input",Object(y.a)(Object(y.a)({},e.input),{},{placeholder:"Search the recipe...",className:"search-input",type:"text"}))},q=function(){return Object(v.jsx)("input",{alt:"",className:"search-btn",type:"image",src:U})},G=Object(g.b)((function(e){return{recipeList:Object.keys(e.recipeReducer).map((function(t){return[t,e.recipeReducer[t]]})),userReducer:e.userReducer}}),{fetchRecipes:function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.get("",{params:{query:e}});case 2:c=t.sent,n({type:"FETCH_RECIPES",payload:c.data.results});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(Object(A.a)({form:"fetchListRecipes"})((function(e){e.userReducer&&0!==Object.keys(e.userReducer).length||e.history.push("/login");var t,n=Object(i.f)();return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"recipes-container",children:[Object(v.jsx)("h1",{children:"Recipes"}),Object(v.jsx)("hr",{}),Object(v.jsxs)("form",{onSubmit:e.handleSubmit((function(t){e.fetchRecipes(t.searchRecipeQuery)})),className:"search-bar",children:[Object(v.jsx)(s.b,{to:"/Recipes/Menu",className:"menu-btn",children:"Menu"}),Object(v.jsxs)("div",{className:"search-div",children:[Object(v.jsx)(R.a,{name:"searchRecipeQuery",component:F}),Object(v.jsx)(R.a,{component:q,name:"submitSearch"})]})]}),Object(v.jsx)("div",{className:"all-recipes",children:e.recipeList[0]?(t=e.recipeList[0][1],t.map((function(e){return Object(v.jsxs)("div",{id:e.id,className:"recipe",children:[Object(v.jsx)("div",{className:"recipe-img",children:Object(v.jsx)(s.b,{to:{pathname:"/SingleRecipe/".concat(e.id),state:e,prevPage:n.pathname},children:Object(v.jsx)("img",{alt:"recipe",src:e.image})})}),Object(v.jsxs)("div",{className:"recipe-info",children:[Object(v.jsx)("div",{className:"recipe-title",children:Object(v.jsx)(s.b,{className:"recipe-title",to:{pathname:"/SingleRecipe/".concat(e.id),state:e,prevPage:n.pathname},children:Object(v.jsx)("h2",{children:e.title})})}),Object(v.jsx)("span",{dangerouslySetInnerHTML:{__html:e.summary.slice(0,e.summary.indexOf("All things considered"))},className:"recipe-description"})]}),Object(v.jsx)(B,{currentRecipe:e})]},e.id)}))):""})]})})}))),P=(n(240),n.p+"static/media/bottom-nav-bar-logo.a86ea036.png"),Y=n.p+"static/media/leaves-avatar.716b6e3c.svg",Q=n.p+"static/media/x-nav.50bd7533.svg",_=Object(g.b)((function(e){return{userInfo:e.userReducer}}),{logOut:function(){return function(e){e({type:"LOG_OUT",payload:{}})}},inicialIngredientList:f,addRecipeToMenu:b})((function(e){var t=Object(c.useRef)(null);Object(c.useEffect)((function(){t.current.closest("body").addEventListener("click",(function(e){t.current.querySelector(".nav-links").style.transition="all 1s ease-out",e.target.classList.contains("toggle-links")?t.current.querySelector(".nav-links").classList.toggle("active"):t.current.querySelector(".nav-links").classList.add("active")}))}),[window.screen.width]);return Object(v.jsxs)("div",{ref:t,className:"nav-bar",children:[Object(v.jsx)("div",{className:"bar-toggle",children:Object(v.jsx)("img",{onClick:function(){t.current.classList.add("hidden-bar"),t.current.querySelector(".arrow-nav-bar").classList.add("show-arrow")},alt:"x-img",src:Q})}),Object(v.jsx)("div",{className:"upper-nav",children:Object(v.jsxs)("div",{className:"avatar",children:[Object(v.jsx)("div",{className:"avatar-picture",children:Object(v.jsx)("img",{alt:"",src:e.userInfo.avatar?"/".concat(e.userInfo.avatar.replaceAll("/","\\")):""})}),Object(v.jsx)("img",{alt:"",className:"avatar-leaves",src:Y}),Object(v.jsx)("h4",{className:"user-name",children:e.userInfo.nickName||""})]})}),Object(v.jsx)("div",{onClick:function(){t.current.classList.remove("hidden-bar"),t.current.querySelector(".arrow-nav-bar").classList.remove("show-arrow")},className:"arrow-nav-bar",children:Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 9 9",id:"vector",children:[Object(v.jsx)("path",{id:"path",d:"M 4.5 0 C 3.307 0 2.162 0.474 1.318 1.318 C 0.474 2.162 0 3.307 0 4.5 C 0 5.693 0.474 6.838 1.318 7.682 C 2.162 8.526 3.307 9 4.5 9 C 5.693 9 6.838 8.526 7.682 7.682 C 8.526 6.838 9 5.693 9 4.5 C 9 3.307 8.526 2.162 7.682 1.318 C 6.838 0.474 5.693 0 4.5 0 Z",fill:"#9ace7c",strokeWidth:"1"}),Object(v.jsx)("path",{id:"path_1",d:"M 6.8 4.5 L 4.9 2.6 C 4.8 2.5 4.6 2.5 4.5 2.6 L 4.2 2.9 C 4.1 3 4.1 3.1 4.2 3.2 L 5.2 4.1 L 1.9 4.1 C 1.6 4.1 1.4 4.2 1.4 4.5 L 1.4 5 C 1.4 5.2 1.8 5.2 1.9 5.2 L 5.2 5.2 L 4.2 6.2 C 4.1 6.3 4.1 6.5 4.2 6.6 L 4.4 6.8 C 4.6 7 4.7 7 4.9 6.9 L 6.8 5 C 6.9 4.9 6.9 4.9 6.9 4.8 C 6.9 4.7 6.8 4.6 6.8 4.5 Z",fill:"#ffffff",strokeWidth:"1"})]})}),Object(v.jsxs)("ul",{className:"nav-links",children:[Object(v.jsx)(s.b,{className:"nav-link first-link",to:"/",children:"Home"}),Object(v.jsx)(s.b,{className:"nav-link",to:"/Profile",children:"Profile"}),Object(v.jsx)(s.b,{className:"nav-link",to:"/Recipes",children:"Recipes"}),Object(v.jsx)(s.b,{className:"nav-link",to:"/IngredientList",children:"Ingredient List"}),Object(v.jsx)(s.b,{onClick:function(t){console.log(t),e.inicialIngredientList({}),e.addRecipeToMenu("","",{}),e.logOut()},className:"nav-link last-link",to:"/Login",children:"Exit"})]}),Object(v.jsx)("div",{className:"nav-mobile toggle-links",children:Object(v.jsx)("i",{class:"fas fa-bars toggle-links"})}),Object(v.jsx)("div",{className:"lower-nav",children:Object(v.jsx)("img",{alt:"bottom-logo",src:P})})]})})),H=(n(241),n.p+"static/media/x-nav-black.07ac7640.svg"),J=function(e){console.log(e);var t=e.location.state,n=t.extendedIngredients.map((function(e){return Object(v.jsxs)("li",{children:[Object(v.jsx)("i",{class:"fas fa-sort-up bullet"}),"".concat(Math.round(e.measures.metric.amount,-1),"\n        ").concat(e.measures.metric.unitShort),"\xa0-\xa0","".concat(e.name[0].toUpperCase().concat(e.name.slice(1)))]})})),c=t.analyzedInstructions[0].steps.map((function(e){return Object(v.jsxs)("li",{className:"instruction",children:[" ",Object(v.jsx)("i",{class:"fas fa-leaf"}),e.step]})}));return r.a.createPortal(Object(v.jsx)("div",{className:"recipe-bg",children:Object(v.jsxs)("div",{className:"single-recipe-container",children:[Object(v.jsx)("div",{className:"exit-wrap",children:Object(v.jsx)(s.b,{className:"exit-btn",to:e.location.prevPage,children:Object(v.jsx)("img",{alt:"x-img",src:H})})}),Object(v.jsx)("h2",{children:t.title}),Object(v.jsxs)("div",{className:"image-info",children:[Object(v.jsx)("img",{className:"recipe-image",alt:"",src:t.image}),Object(v.jsxs)("div",{className:"recipe-info",children:[Object(v.jsxs)("div",{className:"info-item",children:[Object(v.jsx)("i",{className:"fas fa-clock"}),t.readyInMinutes," minutes"]}),Object(v.jsxs)("div",{className:"info-item",children:[Object(v.jsx)("i",{className:"fas fa-users"}),t.servings," people"]}),Object(v.jsxs)("div",{className:"info-item",children:[Object(v.jsx)("i",{className:"fas fa-seedling"}),t.diets.join(", ")]}),Object(v.jsxs)("div",{className:"info-item",children:[Object(v.jsx)("i",{className:"fas fa-star"}),"".concat(t.spoonacularScore,"/100")]})]})]}),Object(v.jsxs)("div",{className:"ingredient-list",children:[Object(v.jsx)("h3",{children:"Ingredient List:"}),Object(v.jsx)("ul",{children:n})]}),Object(v.jsxs)("div",{className:"instructions",children:[Object(v.jsx)("h3",{children:"instructions:"}),Object(v.jsx)("ul",{children:c})]})]})},t.id+Math.trunc(100*Math.random())),document.querySelector("#single-recipe"))},Z=Object(g.b)((function(e){return{currentUser:e.userReducer}}),{fetchUser:O,addRecipeToMenu:b})((function(e){return Object(v.jsx)(s.a,{children:Object(v.jsxs)("div",{className:"app",children:[Object(v.jsx)(_,{}),Object(v.jsx)(i.c,{children:Object(v.jsx)(c.Fragment,{children:Object(v.jsxs)("div",{className:"app-body",children:[Object(v.jsx)(i.a,{path:"/",exact:!0,component:S}),Object(v.jsx)(i.a,{path:"/Profile",component:C}),Object(v.jsx)(i.a,{path:"/Recipes",exact:!0,component:G}),Object(v.jsx)(i.a,{path:"/IngredientList",component:N}),Object(v.jsx)(i.a,{path:"/Recipes/Menu",component:M}),Object(v.jsx)(i.a,{path:"/Login",component:I}),Object(v.jsx)(i.a,{path:"/SingleRecipe/:id",component:J})]})})})]})})})),V=n(9),W=n(106),z=n(245),X=Object(V.c)({ingredientList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_INGR_FROM_RECIPE":return t.payload.todayID>t.payload.daySelectedID?e:t.payload.recipe?(t.payload.recipe.extendedIngredients.forEach((function(n,c){Object.keys(e).includes(n.id)&&e[t.payload.recipe.id].units===n.measures.us.unitShort&&(e[n.id].amount+=n.measures.us.amount),e[n.id]={name:n.name,amount:n.measures.us.amount,units:n.measures.us.unitShort}})),Object(y.a)({},e)):e;case"DELETE_INGR_FROM_RECIPE":return t.payload.recipe.extendedIngredients.forEach((function(t){e[t.id]&&(e[t.id].amount!==t.measures.us.amount?e[t.id].amount-=t.measures.us.amount:delete e[t.id])})),Object(y.a)({},e);case"ADD_ITEM":return e[t.payload.item]={name:t.payload.item,amount:"",units:""},Object(y.a)({},e);case"DELETE_ITEM":return delete e[t.payload.item],Object(y.a)({},e);case"DELETE_INGREDIENTS":return"";case"INITIAL_INGREDIENTS":return Object(y.a)({},t.payload);default:return e}},todayMilliSec:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RETRIEVE_DATE":var n=new Date,c="".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate()),a=new Date(c),r=a.valueOf();return r;default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN":return console.log(t.payload,"inside-reducer"),!!t.payload&&t.payload;case"FETCH_USER":return Object(y.a)({},t.payload);case"UPDATE_USER":return Object(y.a)(Object(y.a)({},e),t.payload);case"LOG_OUT":return!1;case"CREATE_PROFILE":return console.log(t.payload,"REDUCER"),Object(y.a)({},t.payload);default:return e}},recipeReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_RECIPES":return[t.payload];default:return e}},menuReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_RECIPE":if(t.payload[3]){var n=new Date,c="".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate()),a=new Date(c),r=a.valueOf(),s={};return Object.keys(t.payload[3]).forEach((function(e){e>=r&&(s[e]=t.payload[3][e])})),s}var i=Object(y.a)({},e);return i&&i[t.payload[1]]?(i[t.payload[1]]=Object(y.a)(Object(y.a)({},i[t.payload[1]]),t.payload[0]),i):(i[t.payload[1]]=t.payload[0],i);case"DELETE_RECIPE":var l=Object(y.a)({},e);delete l[t.payload.dayId][t.payload.currentId];return l;default:return e}},form:z.a}),K=Object(V.e)(X,Object(V.d)(Object(V.a)(W.a)));r.a.render(Object(v.jsx)(g.a,{store:K,children:Object(v.jsx)(Z,{})}),document.getElementById("root"))}},[[242,1,2]]]);
//# sourceMappingURL=main.fc5802fe.chunk.js.map